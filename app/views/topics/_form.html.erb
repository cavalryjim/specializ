<%= simple_form_for @topic, :validate => true do |f| %>
  <% if @topic.errors.any? %>
    <% @topic.errors.full_messages.each do |msg| %>
	  <%= js add_gritter( msg, :title => "Error", :image => :error, :sticky => true ) %>
    <% end %>
  <% end %>

  <%= f.input :status, :collection => [['Open', 1], ['Closed', 2], ['Archived', 3]], :required => true %>
  <%= f.input :name %>
  <%= f.input :description, :as => :text %>
  <%= f.association :groupings, :label => 'Participating groups', 
		:collection => nested_set_options(current_user.root_grouping) {|i| "#{' -' * i.level} #{i.name}" },
		:multiple => true, :required => true %>
  <%= f.input :goal, :label => 'Consensus goal', :required => true, :input_html => { :size => 4 }, :hint => 'Enter a percentage from 1 - 100.'  %>
  <%= f.input :update_frequency, :input_html => { :size => 4 }, :hint => 'If you need the Topic to periodically update, enter the nuber of days.'  %>
  <%= f.input :due_days, :input_html => { :size => 4 }, :hint => 'Enter the number of days participants have to submit their input.'  %> 
  <%= f.input :opt_out, :label => 'Allow participants to opt out?' %>
  <%= f.button :submit %>

<% end %>


